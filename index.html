<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>AstroStore</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        margin-bottom: 0;
    }
    .container {
        flex: 1 0 auto;
    }
    .nav-icones, nav a {
        position: relative;
        display: inline-block;
        width: 48px;
        text-align: center;
        transition: transform 0.2s;
    }
    .nav-icones:hover i, nav a:hover i {
        animation: bounce 0.5s;
    }
    @keyframes bounce {
        0%   { transform: translateY(0);}
        30%  { transform: translateY(-8px);}
        50%  { transform: translateY(0);}
        70%  { transform: translateY(-4px);}
        100% { transform: translateY(0);}
    }
    .nav-icones .nav-tooltip {
        visibility: hidden;
        opacity: 0;
        width: 160px;
        background: #222;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 6px 0;
        position: absolute;
        z-index: 1;
        left: 50%;
        transform: translateX(-50%);
        bottom: 120%;
        font-size: 0.95em;
        transition: opacity 0.2s;
        pointer-events: none;
    }
    .nav-icones:hover .nav-tooltip {
        visibility: visible;
        opacity: 1;
    }
    .header-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        margin-bottom: 0;
    }
    .header-title {
        font-size: 2em;
        font-weight: bold;
        margin: 0;
        margin-right: auto;
        white-space: nowrap;
    }
    .search-bar {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-left: auto;
    }
    .search-bar input[type="text"] {
        padding: 6px 12px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 1em;
        width: 180px;
        transition: box-shadow 0.2s;
    }
    .search-bar input[type="text"]:focus {
        box-shadow: 0 0 0 2px #90e0ef;
        outline: none;
    }
    nav {
        margin-top: 12px;
        margin-bottom: 0;
        display: flex;
        gap: 8px;
        justify-content: flex-start;
    }
    /* Carrinho alinhado ao topo e à esquerda */
    #sec-carrinho {
        align-items: flex-start !important;
        flex-direction: column;
        padding-top: 0;
        /* Remova ou comente as linhas abaixo para restaurar o fundo padrão */
        /* background: #f8f9fa; */
        /* border-radius: 0 0 16px 16px; */
        min-height: 350px;
        width: 100%;
        position: relative;
    }
    #titulo-carrinho {
        width: 100%;
        margin: 0;
        padding: 32px 0 18px 0;
        text-align: center;
        font-size: 2.2em;
        font-weight: bold;
        /* Remova o fundo e border-radius do título também */
        /* background: #f8f9fa; */
        /* border-radius: 0 0 16px 16px; */
        letter-spacing: 1px;
    }
    #carrinho-lista {
        margin-top: 0;
        margin-left: 0;
        padding-left: 0;
        width: 100%;
        align-items: flex-start;
    }
    #carrinho-lista li {
        justify-content: flex-start;
        width: 100%;
        max-width: 900px;
        margin-left: 0;
        margin-right: auto;
        background: #fff;
        box-shadow: 0 2px 8px #0001;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 18px;
        padding: 16px 18px;
    }
    .carrinho-info {
        flex: 1;
        min-width: 180px;
    }
    .carrinho-qtd {
        display: flex;
        align-items: center;
        gap: 8px;
        margin: 8px 0;
    }
    .carrinho-qtd button {
        background: #0096c7;
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        font-size: 1.1em;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
    }
    .carrinho-qtd input[type="number"] {
        width: 48px;
        text-align: center;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 1em;
        padding: 2px 0;
    }
    .carrinho-remover {
        background: #e63946;
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 6px 14px;
        cursor: pointer;
        margin-left: 10px;
    }
    #total-carrinho {
        font-size: 1.2em;
        font-weight: bold;
        margin: 18px 0 0 0;
        text-align: right;
        width: 100%;
        max-width: 900px;
    }
    #btn-ir-pagamento {
        background:#27ae60;
        color:#fff;
        border:none;
        border-radius:8px;
        padding:12px 28px;
        font-size:1.1em;
        cursor:pointer;
        margin: 24px auto 0 auto;
        display:none;
        display: block;
        max-width: 350px;
        width: 100%;
    }
    #carrinho-vazio {
        display:none;
        width:100%;
        text-align:left;
        margin: 24px 0;
        justify-content: center;
    }
    #carrinho-vazio > div {
        background:#f1f3f6;
        border:1.5px dashed #bdbdbd;
        border-radius:12px;
        padding:32px 20px;
        display:flex;
        flex-direction:column;
        align-items:flex-start;
        gap:16px;
        max-width: 400px;
        margin: 0 auto;
    }
    footer {
        background: #222;
        color: #fff;
        text-align: center;
        padding: 16px 0 10px 0;
        width: 100%;
        position: relative;
        left: 0;
        bottom: 0;
        z-index: 100;
        flex-shrink: 0;
    }
    body {
        margin-bottom: 60px;
    }
    </style>
</head>
<body>
    <header>
        <div class="header-bar">
            <h1 class="header-title" id="titulo-astro">Astro Store</h1>
            <form class="search-bar" onsubmit="event.preventDefault(); pesquisarProduto();">
                <input type="text" id="busca-produto" placeholder="Buscar produto...">
                <button type="submit" style="background:#0096c7;color:#fff;border:none;border-radius:6px;padding:6px 12px;cursor:pointer;">
                    <i class="fas fa-search"></i>
                </button>
            </form>
        </div>
        <nav>
            <a href="#" id="nav-inicio" class="ativo"><i class="fas fa-home"></i> Início</a>
            <a href="#" id="nav-catalogo"><i class="fas fa-th-list"></i> Catálogo</a>
            <a href="#" id="nav-carrinho"><i class="fas fa-shopping-cart"></i> Carrinho</a>
            <a href="#" id="nav-perfil"><i class="fas fa-user"></i> Perfil</a>
            <a href="#" id="nav-pagamento" class="nav-icones" title="Opções de Pagamento">
                <i class="fas fa-credit-card"></i>
                <span class="nav-tooltip">Opções de Pagamento</span>
            </a>
            <a href="#" id="nav-historico" class="nav-icones" title="Histórico de Produtos">
                <i class="fas fa-history"></i>
                <span class="nav-tooltip">Histórico</span>
            </a>
        </nav>
        <div class="scroll-itens">
            <div class="item-scroll" onclick="abrirDetalhesProduto()">
                <img src="https://http2.mlstatic.com/D_NQ_NP_612186-MLU75887345771_042024-O.webp" alt="Balinha IceKiss">
                <span>Balinha IceKiss</span>
            </div>
        </div>
    </header>
    <div class="container">
        <main>
            <section id="sec-inicio" class="secao">
                <h2>Bem-vindo!</h2>
                <p>Se liga nos nossos produtos de ponta!</p>
                <div class="produto" onclick="abrirDetalhesProduto()">
                    <img src="https://http2.mlstatic.com/D_NQ_NP_612186-MLU75887345771_042024-O.webp" alt="Balinha IceKiss" style="width:120px;">
                    <h3>Balinha IceKiss</h3>
                    <p>R$ 0,25 cada</p>
                    <button onclick="event.stopPropagation(); adicionarAoCarrinho();">Adicionar ao carrinho</button>
                </div>
            </section>
            <section id="sec-catalogo" class="secao" style="display:none">
                <h2>Catálogo</h2>
                <div class="departamento">
                    <button id="btn-doces" style="font-size:1.1em;padding:12px 28px;border-radius:8px;border:none;background:#0096c7;color:#fff;cursor:pointer;">
                        <i class="fas fa-candy-cane"></i> Doces
                    </button>
                </div>
            </section>
            <section id="sec-doces" class="secao" style="display:none">
                <h2>Departamento: Doces</h2>
                <div class="produto" onclick="abrirDetalhesProduto()">
                    <img src="https://http2.mlstatic.com/D_NQ_NP_612186-MLU75887345771_042024-O.webp" alt="Balinha IceKiss" style="width:120px;">
                    <h3>Balinha IceKiss</h3>
                    <p>R$ 0,25 cada</p>
                    <button onclick="event.stopPropagation(); adicionarAoCarrinho();">Adicionar ao carrinho</button>
                </div>
                <button id="voltar-catalogo" style="margin-top:24px;font-size:1em;padding:8px 20px;border-radius:6px;border:none;background:#0077b6;color:#fff;cursor:pointer;">
                    <i class="fas fa-arrow-left"></i> Voltar ao Catálogo
                </button>
            </section>
            <section id="sec-detalhes" class="secao" style="display:none">
                <h2>Detalhes do Produto</h2>
                <div class="produto-detalhe">
                    <img src="https://http2.mlstatic.com/D_NQ_NP_612186-MLU75887345771_042024-O.webp" alt="Balinha IceKiss" style="width:150px;">
                    <div>
                        <h3>Balinha IceKiss</h3>
                        <p>Preço: R$ 0,25 cada</p>
                        <p>Deliciosa bala refrescante sabor menta.</p>
                        <label>Quantidade:
                            <input type="number" id="qtd-detalhe" value="1" min="1" style="width:60px;">
                        </label>
                        <br><br>
                        <button onclick="adicionarAoCarrinhoDetalhe()">Adicionar ao carrinho</button>
                        <button onclick="voltarUltimaSecao()" style="margin-left:12px;">Voltar</button>
                    </div>
                </div>
            </section>
            <section id="sec-carrinho" class="secao" style="display:none">
                <h2 id="titulo-carrinho">Carrinho</h2>
                <div id="carrinho-vazio">
                    <div>
                        <div style="display:flex; align-items:center; gap:14px;">
                            <i class="fas fa-shopping-basket" style="font-size:2.2em; color:#bdbdbd;"></i>
                            <span style="font-size:1.2em; color:#666;">Seu carrinho está vazio!</span>
                        </div>
                        <button id="btn-ir-catalogo" style="background:#0096c7; color:#fff; border:none; border-radius:8px; padding:10px 22px; font-size:1em; cursor:pointer;">
                            <i class="fas fa-th-list"></i> Ir para o Catálogo
                        </button>
                    </div>
                </div>
                <ul id="carrinho-lista"></ul>
                <p id="total-carrinho">Total: R$ 0,00</p>
                <button id="btn-ir-pagamento">
                    <img src="https://images.seeklogo.com/logo-png/38/1/pix-banco-central-logo-png_seeklogo-388843.png" alt="Pix" style="height:1.2em;vertical-align:middle;margin-right:8px;"> Ir para Pagamento (Pix)
                </button>
            </section>
            <section id="sec-perfil" class="secao" style="display:none">
                <h2>Perfil</h2>
                <form id="form-perfil">
                    <label>Nome: <input type="text" id="nome-perfil" value="Usuário Exemplo"></label><br><br>
                    <label>Email: <input type="email" id="email-perfil" value="usuario@email.com"></label><br><br>
                    <button type="button" onclick="alert('Dados salvos!')">Salvar</button>
                </form>
            </section>
            <section id="sec-historico" class="secao" style="display:none">
                <h2>Histórico de Produtos Visualizados</h2>
                <ul id="historico-lista" style="list-style:none; padding:0; margin:0;"></ul>
            </section>
            <section id="sec-pagamento" class="secao" style="display:none">
                <h2>Métodos de Pagamento</h2>
                <div style="display:flex;align-items:center;gap:16px;background:#f1f3f6;padding:24px 18px;border-radius:10px;">
                    <img src="https://images.seeklogo.com/logo-png/38/1/pix-banco-central-logo-png_seeklogo-388843.png" alt="Pix" style="height:48px;">
                    <div>
                        <strong style="font-size:1.2em;">Pagamento Online via Pix</strong><br>
                        <span style="color:#444;">Aceitamos apenas pagamentos por Pix online. Após finalizar sua compra, você receberá o QR Code para pagamento.</span>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <footer>
        <p>&copy; 2025 Minha Webstore</p>
    </footer>
    <script>
    const links = document.querySelectorAll('nav a');
    const secoes = document.querySelectorAll('.secao');
    let ultimaSecao = 'sec-inicio';

    // Histórico de visualização
    let historico = [];
    function adicionarHistorico(nome, img) {
        if (historico.length === 0 || historico[historico.length-1].nome !== nome) {
            historico.push({nome, img});
            atualizarHistorico();
        }
    }
    function atualizarHistorico() {
        const lista = document.getElementById('historico-lista');
        if (!lista) return;
        lista.innerHTML = '';
        if (historico.length === 0) {
            lista.innerHTML = '<li>Nenhum produto visualizado ainda.</li>';
            return;
        }
        historico.slice(-10).reverse().forEach(item => {
            const li = document.createElement('li');
            li.style.display = 'flex';
            li.style.alignItems = 'center';
            li.style.gap = '8px';
            li.style.marginBottom = '8px';
            li.innerHTML = `<img src="${item.img}" alt="${item.nome}" style="width:28px;height:28px;border-radius:6px;border:1px solid #eee;"> <span>${item.nome}</span>`;
            lista.appendChild(li);
        });
    }

    // Função para mostrar uma seção e esconder as outras
    function mostrarSecao(id) {
        secoes.forEach(sec => sec.style.display = 'none');
        document.getElementById(id).style.display = 'flex';
        ultimaSecao = id;
    }

    // Navegação principal
    links.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            links.forEach(l => l.classList.remove('ativo'));
            this.classList.add('ativo');
            if(this.id === 'nav-inicio') mostrarSecao('sec-inicio');
            if(this.id === 'nav-catalogo') mostrarSecao('sec-catalogo');
            if(this.id === 'nav-carrinho') {
                mostrarSecao('sec-carrinho');
                atualizarCarrinho();
            }
            if(this.id === 'nav-perfil') mostrarSecao('sec-perfil');
            if(this.id === 'nav-historico') mostrarSecao('sec-historico');
            if(this.id === 'nav-pagamento') mostrarSecao('sec-pagamento');
        });
    });

    // Botão Doces no catálogo
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('btn-doces').onclick = function() {
            mostrarSecao('sec-doces');
        };
        document.getElementById('voltar-catalogo').onclick = function() {
            mostrarSecao('sec-catalogo');
        };
        // Botão "Ir para Pagamento"
        const btnIrPagamento = document.getElementById('btn-ir-pagamento');
        if (btnIrPagamento) {
            btnIrPagamento.onclick = function() {
                mostrarSecao('sec-pagamento');
                document.querySelectorAll('nav a').forEach(l => l.classList.remove('ativo'));
                document.getElementById('nav-pagamento').classList.add('ativo');
            };
        }
    });

    // Carrinho simples
    let carrinho = [];
    function adicionarAoCarrinho() {
        let item = carrinho.find(i => i.nome === "Balinha IceKiss");
        if(item) {
            item.qtd += 1;
        } else {
            carrinho.push({ nome: "Balinha IceKiss", preco: 0.25, qtd: 1 });
        }
        atualizarCarrinho();
    }
    function adicionarAoCarrinhoDetalhe() {
        const qtd = parseInt(document.getElementById('qtd-detalhe').value) || 1;
        let item = carrinho.find(i => i.nome === "Balinha IceKiss");
        if(item) {
            item.qtd += qtd;
        } else {
            carrinho.push({ nome: "Balinha IceKiss", preco: 0.25, qtd: qtd });
        }
        atualizarCarrinho();
        mostrarSecao('sec-carrinho');
        links.forEach(l => l.classList.remove('ativo'));
        document.getElementById('nav-carrinho').classList.add('ativo');
    }
    function atualizarCarrinho() {
        const carrinhoLista = document.getElementById('carrinho-lista');
        const carrinhoVazio = document.getElementById('carrinho-vazio');
        const btnIrPagamento = document.getElementById('btn-ir-pagamento');
        let total = 0;

        if (carrinho.length === 0) {
            carrinhoLista.innerHTML = '';
            document.getElementById('total-carrinho').textContent = `Total: R$ 0,00`;
            carrinhoVazio.style.display = 'flex';
            if(btnIrPagamento) btnIrPagamento.style.display = 'none';

            // Evento do botão "Ir para o Catálogo" sempre atualizado
            const btnIrCatalogo = document.getElementById('btn-ir-catalogo');
            if (btnIrCatalogo) {
                btnIrCatalogo.onclick = function() {
                    mostrarSecao('sec-catalogo');
                    document.querySelectorAll('nav a').forEach(l => l.classList.remove('ativo'));
                    document.getElementById('nav-catalogo').classList.add('ativo');
                };
            }
            return;
        } else {
            carrinhoVazio.style.display = 'none';
            if(btnIrPagamento) btnIrPagamento.style.display = 'block';
        }

        carrinhoLista.innerHTML = '';
        carrinho.forEach((item, idx) => {
            const li = document.createElement('li');

            const img = document.createElement('img');
            img.src = "https://http2.mlstatic.com/D_NQ_NP_612186-MLU75887345771_042024-O.webp";
            img.alt = item.nome;
            img.style.width = "48px";
            img.style.height = "48px";
            img.style.borderRadius = "8px";
            img.style.border = "1px solid #eee";

            const info = document.createElement('div');
            info.className = "carrinho-info";
            info.innerHTML = `<strong>${item.nome}</strong><br>
                Preço: R$ ${item.preco.toFixed(2)}<br>
                Subtotal: R$ ${(item.preco * item.qtd).toFixed(2)}`;

            // Controle de quantidade
            const qtdDiv = document.createElement('div');
            qtdDiv.className = "carrinho-qtd";
            const btnMenos = document.createElement('button');
            btnMenos.innerHTML = '<i class="fas fa-minus"></i>';
            btnMenos.onclick = () => {
                if(item.qtd > 1) {
                    item.qtd -= 1;
                    atualizarCarrinho();
                }
            };
            const inputQtd = document.createElement('input');
            inputQtd.type = "number";
            inputQtd.value = item.qtd;
            inputQtd.min = 1;
            inputQtd.onchange = function() {
                let val = parseInt(this.value);
                if(isNaN(val) || val < 1) val = 1;
                item.qtd = val;
                atualizarCarrinho();
            };
            const btnMais = document.createElement('button');
            btnMais.innerHTML = '<i class="fas fa-plus"></i>';
            btnMais.onclick = () => {
                item.qtd += 1;
                atualizarCarrinho();
            };
            qtdDiv.appendChild(btnMenos);
            qtdDiv.appendChild(inputQtd);
            qtdDiv.appendChild(btnMais);

            info.appendChild(qtdDiv);

            const btnRemover = document.createElement('button');
            btnRemover.textContent = "Remover";
            btnRemover.className = "carrinho-remover";
            btnRemover.onclick = () => {
                carrinho.splice(idx, 1);
                atualizarCarrinho();
            };

            li.appendChild(img);
            li.appendChild(info);
            li.appendChild(btnRemover);
            carrinhoLista.appendChild(li);

            total += item.preco * item.qtd;
        });
        document.getElementById('total-carrinho').textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    // Página de detalhes do produto
    function abrirDetalhesProduto() {
        adicionarHistorico("Balinha IceKiss", "https://http2.mlstatic.com/D_NQ_NP_612186-MLU75887345771_042024-O.webp");
        mostrarSecao('sec-detalhes');
    }
    function voltarUltimaSecao() {
        mostrarSecao(ultimaSecao === 'sec-detalhes' ? 'sec-inicio' : ultimaSecao);
    }

    // Pesquisa de produto (simples, só filtra pelo nome)
    function pesquisarProduto() {
        const termo = document.getElementById('busca-produto').value.trim().toLowerCase();
        if (!termo) {
            mostrarSecao('sec-inicio');
            return;
        }
        if ("balinha icekiss".includes(termo)) {
            mostrarSecao('sec-inicio');
        } else {
            alert("Produto não encontrado!");
        }
    }
    </script>
</body>
</html>